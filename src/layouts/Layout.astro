---
import { ViewTransitions } from "astro:transitions"
import { SEO } from "astro-seo"

import "@/styles/global.css"

import Footer from "@/components/Footer.astro"
import Header from "@/components/Header.astro"
import { siteConfig } from "@/lib/config"
import type { Locale } from "@/lib/i18n"

interface Props {
  title?: string
  description?: string
  image?: string
  locale?: Locale
}

const {
  title = siteConfig.title,
  description = siteConfig.description,
  image,
  locale = 'es',
} = Astro.props
---

<!doctype html>
<html lang={locale} class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />

    <SEO
      title={title}
      description={description}
      openGraph={{
        basic: {
          title: title,
          type: "website",
          image: image ?? "/og-image.png",
        },
      }}
      twitter={{
        card: "summary_large_image",
        creator: "@sebitabravo",
        site: "@sebitabravo",
        title: title,
        description: description,
        image: image ?? "/og-image.png",
      }}
      extend={{
        // Overrides the default meta tags
        meta: [
          {
            name: "twitter:image:alt",
            content: title,
          },
          {
            name: "og:image:alt",
            content: title,
          },
          {
            property: "og:description",
            content: description,
          },
        ],
      }}
    />

    <ViewTransitions fallback="none" />

    <script is:inline src="/theme-init.js"></script>
  </head>
  <body class="bg-background text-foreground">
    <Header locale={locale} />
    <slot />
    <Footer locale={locale} />
  </body>
</html>